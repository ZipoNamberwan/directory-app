# MySQL/MariaDB Configuration File
# Generated by MySQL/MariaDB Settings Calculator
# Generated on: 2026-01-01
# 
# Server Specifications:
# - Total Memory: 32 GB
# - Available Memory: 30 GB  
# - Operating System: linux
# - Storage Type: ssd
#
# IMPORTANT: Always test configurations in a development environment first!
# Monitor your server performance and adjust settings as needed.

[mysqld]
# Basic Settings
user                           = mysql
pid-file                       = /var/run/mysqld/mysqld.pid
socket                         = /var/run/mysqld/mysqld.sock
port                           = 3306
basedir                        = /usr
datadir                        = /var/lib/mysql
tmpdir                         = /tmp

# Memory Settings
innodb_buffer_pool_size        = 24159191040
innodb_buffer_pool_instances   = 12
key_buffer_size                = 3221225472
# Note: query_cache is removed in MySQL 8.0+
# query_cache_size               = 966367641
# query_cache_type               = 1
tmp_table_size                 = 1610612736
max_heap_table_size            = 1610612736
sort_buffer_size               = 8388608
read_buffer_size               = 4194304
read_rnd_buffer_size           = 8388608
join_buffer_size               = 4194304
table_definition_cache         = 4096
table_open_cache               = 4000

# Connection Settings
max_connections                = 1000
max_allowed_packet             = 32M
thread_cache_size              = 100
open_files_limit               = 10000

# InnoDB Settings
innodb_log_file_size           = 6039797760
innodb_log_buffer_size         = 16777216
innodb_flush_log_at_trx_commit = 1
innodb_flush_method            = O_DIRECT
innodb_file_per_table          = 1
innodb_io_capacity             = 3900
innodb_io_capacity_max         = 7800
innodb_read_io_threads         = 8
innodb_write_io_threads        = 8
innodb_thread_concurrency      = 0
innodb_page_cleaners           = 12
innodb_purge_threads           = 8
innodb_strict_mode             = 1
innodb_stats_on_metadata       = 0
innodb_adaptive_flushing       = 1
innodb_flush_neighbors         = 0

# Performance Schema (monitoring)
performance_schema             = ON

# Logging
log_error                      = /var/log/mysql/error.log
slow_query_log                 = 1
slow_query_log_file            = /var/log/mysql/mysql-slow.log
long_query_time                = 2
log_slow_admin_statements      = ON
log_slow_slave_statements      = ON

# Replication
server-id                      = 1
log_bin                        = /var/log/mysql/mysql-bin.log
expire_logs_days               = 10
max_binlog_size                = 100M
binlog_format                  = ROW

# Security
symbolic-links                 = 0

[client]
socket                         = /var/run/mysqld/mysqld.sock

[mysqldump]
quick
quote-names
max_allowed_packet             = 32M